<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>后台管理项目 | 后台管理项目总结</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/web.github.io/assets/css/0.styles.1d55edc0.css" as="style"><link rel="preload" href="/web.github.io/assets/js/app.690f3407.js" as="script"><link rel="preload" href="/web.github.io/assets/js/2.8de62b09.js" as="script"><link rel="preload" href="/web.github.io/assets/js/7.e12bbb2c.js" as="script"><link rel="prefetch" href="/web.github.io/assets/js/3.47dc14cb.js"><link rel="prefetch" href="/web.github.io/assets/js/4.7a20f468.js"><link rel="prefetch" href="/web.github.io/assets/js/5.2b8d022c.js"><link rel="prefetch" href="/web.github.io/assets/js/6.1991384a.js">
    <link rel="stylesheet" href="/web.github.io/assets/css/0.styles.1d55edc0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web.github.io/" aria-current="page" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">后台管理项目总结</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/web.github.io/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  首页
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/web.github.io/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  首页
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>后台管理项目</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="后台管理项目"><a href="#后台管理项目" class="header-anchor">#</a> 后台管理项目</h3> <p>这个后台管理项目主要使用vue框架，element ui 组件库，echarts图表以及axios网络请求。</p> <p>然后整个项目可以分为几个模块，包括：登录验证模块，基本视图模块，导航模块，网络请求模块等。</p> <h4 id="登录验证模块"><a href="#登录验证模块" class="header-anchor">#</a> 登录验证模块：</h4> <p>主要使用的是token验证机制，采用vuex+localstoreage的配合使用。</p> <ol><li><p>首先配置一个全局的导航守卫，BeforeEach,判断vuex中是否保存有token,如果没有token的话，那么使用next函数，直接跳转至登录页面，如果有token的话，那么可以跳转至相应的页面，此时是没办法判断token是否有效的，但是在进入相应的页面的时候，我们会发送网络请求，携带token。如果服务器端验证之后返回了401，那么说明这个token是坏的，没用的。此时直接将页面跳转到登录页面。</p></li> <li><p>关于登出页面</p></li></ol> <p>在退出登录，跳转至登录页面的时候，我会清理vuex中保存得token信息，localstorage中保存的token信息，以及vuex中保存的一些面包屑的列表信息，以及保存在vuex中的其他信息。</p> <h4 id="基本视图模块"><a href="#基本视图模块" class="header-anchor">#</a> 基本视图模块：</h4> <ol><li><p>element-ui：因为后台管理系统中使用表格等组件比较多，所以我们引入element-ui组件库（包括样式表）。在这其中用的比较多的包括表单，表格，卡片等组件。当然为了减小项目的大小，我们采用按需引入的方法，对相应的组件进行引入。对于常用的一些表格表单组件，我会对其进行组件封装，需要使用的时候，对其进行引入，传入参数，这样的话，也能够减少很大一部分的代码量</p></li> <li><p>echarts图表：因为项目中有些数据，需要进行可视化的展示，所以我们引入了echarts图表插件。主要使用折线图，柱状图以及饼状图</p></li></ol> <h4 id="导航栏模块"><a href="#导航栏模块" class="header-anchor">#</a> 导航栏模块：</h4> <ol><li><p>vue-router：我们使用vue-rouer进行路由跳转，在初始导航栏部分，我们有一个折叠效果，用户登录进去，侧边导航是折叠进去的，可以进行按钮的点击，然后将它释放出来。这个状态的话，我们是保存在vuex之中。</p></li> <li><p>动态路由：因为不同的用户，我们的后台管理系统给的权限是不一样的，所以，当用户登录账号的时候，后端接口会返回相应账户的权限，直接反应就是，我们根据不同的权限，进行导航栏的渲染，后端返回给我们路由信息，前端使用addRoutes函数，进行动态渲染</p></li></ol> <h4 id="axios网路请求模块"><a href="#axios网路请求模块" class="header-anchor">#</a> Axios网路请求模块：</h4> <ol><li>Axios二次封装：在引入axios网络请求模块之后，我会对它进行二次封装，暴露出一个网络请求类，在其中创建axios实例，在这个实例上面对它添加拦截器，例如请求拦截器，我可能会在请求体里面添加token值等，在响应拦截器中，可以直接判断服务端返回的状态码，若是401的话，就说明该用户没有权限，那么直接就跳转至登录页面；</li></ol> <p>Vuex中保存了哪些东西：</p> <p>​    1.路由</p> <p>​	2.token</p> <p>​	3.tag标签</p> <h4 id="整体构建流程"><a href="#整体构建流程" class="header-anchor">#</a> 整体构建流程：</h4> <p>首页整个ui 的搭建：</p> <ul><li>引入element-ui中的布局，将整个ui页面分为：侧边栏，头部，主显示区。</li></ul> <p>左侧菜单栏的引入，一级菜单的实现，二级menu的实现，menu样式和路由：</p> <ul><li>​	引入element-ui中的菜单组件，</li> <li>​	获得保存在vuex中的菜单（由用户权限(token)一并获得）,将导航分为有children和无children分别渲染</li> <li>​    为每一个导航item绑定一个点击事件，点击事件：使用路由push方法，改变路由。同时往vuex中添加该item,用作tag标签使用</li></ul> <p>header组件搭建，header组件样式：</p> <ul><li>将头部分为左右两个部分，左边部分：导航栏伸缩控制按钮（状态保存在vuex之中） + 面包屑，引入element-ui中的面包屑组件,面包屑中的to属性可以直接改变路由，面包屑中的数据由vuex获得</li> <li>右边部分是一个下拉框，前往个人中心或者退出登录，退出登录：vuex中的菜单以及token都将被清除，同时跳转至login登录页面</li></ul> <p>vuex实现左侧折叠：</p> <ul><li>使用导航栏组件中的collapse属性，将这一个属性动态绑定到变量isCollapse上面，</li> <li>isCollapse通过按钮的点击事件来改变，并保存在vuex之中</li></ul> <p>home组件布局：</p> <ul><li>引入element-ui中的layout布局组件，将整个home组件用el-row标签包裹，然后将页面使用el-col进行分列，分为两列，</li> <li>第一列摆放用户信息，以及产品表格信息，这两个信息分别用el-tag卡片组件包裹，表格信息使用element-ui中的table组件，</li> <li>绑定的data信息取自于tableData，tableData由后台返回。</li> <li>第二列，使用echarts进行画图，事先将echarts组件进行封装。在该页面引入，传入从后端得到的数据，渲染视图。</li></ul> <p>axios的基本使用，二次封装</p> <p>​		Axios二次封装：在引入axios网络请求模块之后，我会对它进行二次封装，暴露出一个网络请求类，在其中创建axios实例，在这个实例上面对它添加拦截器，例如请求拦截器，我可能会在请求体里面添加token值等，在响应拦截器中，可以直接判断服务端返回的状态码，若是401的话，就说明该用户没有权限，那么直接就跳转至登录页面；</p> <p>mock数模拟实战：</p> <p>​	引入mockjs,调用mock函数对axios请求进行拦截，返回事先定义好的数据</p> <p>echarts公共组件封装以及使用：</p> <ul><li><p>传入两个参数：是否为坐标图，表格数据。data之中保存两个对象：坐标图配置对象，饼状图配置对象。</p> <ul><li>在watch里面监听表格数据，一旦改变，调用初始化表格函数initChart()，在initChart()首先调用initChartData()函数，判断是否是坐标图，若是，则将data中的坐标图对象中的data,series进行替换，若否，则将饼状图对象中的series进行替换。调用完initChart()之后，判断echarts组件是否已经存在，如果已经存在，那么直接调用this.echart.setOption函数将上一步已经修改了的配置对象传入。如果不存在，则先初始化这个组件，然后再调用this.echart.setOption函数。进行渲染</li></ul></li></ul> <p>面包屑实现：</p> <ul><li>引入element-ui中的面包屑组件，面包屑组件循环遍历tabs中的数据，tabs的数据取自vuex中保存的tabList，同时通过面包屑中的to属性，进行点击跳转</li></ul> <p>tag点击与删除事件：</p> <p>​		引入element-ui中的tag组件，tag组件循环遍历tags中的数据，tags的数据取自vuex中保存的tabList,为tag组件绑定点击以及关闭事件，点击事件总调用this.$router.push()函数，进行路由的跳转。关闭事件：得到当前tags数组的长度，调用vuex中的删除函数，删除被点击的tag,判断点击关闭的tag是否是当前路由</p> <p>如果不是，那么没事到此终止。如果是，继续判断当前tag是否是tags数组中最后一个如果是，将路由跳转至前一个。如果不是，则将路由跳转至后一个。</p> <p>用户管理页面功能和form组件介绍</p> <p>用户列表新增和编辑接口调用</p> <p>用户列表table组件的使用</p> <ul><li>新增&amp;&amp;修改弹窗：使用element-ui中的dialog弹窗组件，组件根据变量operateType来判断标题名字是”新增用户“还是”更新用户“</li></ul> <p>登录模块：</p> <p>主要使用的是token验证机制，采用vuex+localstoreage的配合使用。</p> <ol><li><p>首先配置一个全局的导航守卫，BeforeEach,判断vuex中是否保存有token,如果没有token的话，那么使用next函数，直接跳转至登录页面，如果有token的话，那么可以跳转至相应的页面，此时是没办法判断token是否有效的，但是在进入相应的页面的时候，我们会发送网络请求，携带token。如果服务器端验证之后返回了401，那么说明这个token是坏的，没用的。此时直接将页面跳转到登录页面。</p></li> <li><p>关于登出页面</p></li></ol> <p>在退出登录，跳转至登录页面的时候，我会清理vuex中保存得token信息，localstorage中保存的token信息，以及vuex中保存的一些面包屑的列表信息，以及保存在vuex中的其他信息。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/web.github.io/assets/js/app.690f3407.js" defer></script><script src="/web.github.io/assets/js/2.8de62b09.js" defer></script><script src="/web.github.io/assets/js/7.e12bbb2c.js" defer></script>
  </body>
</html>
